/*!
 * OurJS Modern
 *  sundongguo
 *  http://s79.github.com/OurJS/
 *  2015-10-21
 *  Released under the MIT License.
 */
(function(h){if(!Array.from){Array.from=function(){var p=Object.prototype.toString;var q=function(s){return typeof s==="function"||p.call(s)==="[object Function]"};var o=function(t){var s=Number(t);if(isNaN(s)){return 0}if(s===0||!isFinite(s)){return s}return(s>0?1:-1)*Math.floor(Math.abs(s))};var n=Math.pow(2,53)-1;var m=function(t){var s=o(t);return Math.min(Math.max(s,0),n)};return function r(B){var s=this;var z=Object(B);if(B==null){throw new TypeError("Array.from requires an array-like object - not null or undefined")}var x=arguments.length>1?arguments[1]:void undefined;var u;if(typeof x!=="undefined"){if(!q(x)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){u=arguments[2]}}var y=m(z.length);var t=q(s)?Object(new s(y)):new Array(y);var v=0;var w;while(v<y){w=z[v];if(x){t[v]=typeof u==="undefined"?x(w,v):x.call(u,w,v)}else{t[v]=w}v+=1}t.length=y;return t}}()}String.prototype.repeat=function(n){n=Number.toInteger(n);var m="";while(n--){m+=this}return m};String.prototype.startsWith=function(m){return this.indexOf(m)===0};String.prototype.endsWith=function(m){var n=this.lastIndexOf(m);return n>=0&&n===this.length-m.length};String.prototype.contains=function(m){return this.indexOf(m)!==-1};String.prototype.toArray=function(){return this.split("")};Number.isFinite=function(m){return typeof m==="number"&&isFinite(m)};Number.isNaN=function(m){return typeof m==="number"&&isNaN(m)};Number.isInteger=function(m){return Number.isFinite(m)&&Math.floor(m)===m&&m>-9007199254740992&&m<9007199254740992};Number.toInteger=function(m){m=+m||0;m=Math[m<0?"ceil":"floor"](m);return m};var g=/(-|_)+/g;var b=/[^A-Z\s]([A-Z])|[A-Z][^A-Z\s]/g;var e=function(m){return m.replace(g," ").replace(b,function(o,n){return n?o.charAt(0)+" "+o.charAt(1):" "+o}).clean().split(" ")};var d=/YYYY|MM|DD|hh|mm|ss|s|TZD/g;var f={};["Boolean","Number","String","Array","Date","RegExp","Error","Math","JSON","Arguments"].forEach(function(m){f["[object "+m+"]"]="object."+m});var c=Object.prototype.toString;var k=/^\s+function .+\s+\[native code\]\s+\}\s+$/;h.typeOf=function(o){var n=typeof o;if(n==="function"&&typeof o.item==="function"){n="object.Collection"}else{if(n==="object"){if(o===null){n="null"}else{n=f[c.call(o)]||"object.Object";if(n==="object.Object"){var m=String(o);if(m==="[object Window]"||m==="[object DOMWindow]"){n="object.Global"}else{if(m==="[object JSON]"){n="object.JSON"}else{if(k.test(m)){n="function"}else{if("nodeType" in o){n="object.Node"}else{if(typeof o.length==="number"){if("navigator" in o){n="object.Global"}else{if("item" in o){n="object.Collection"}else{if("callee" in o){n="object.Arguments"}}}}}}}}}}}}return n};Object.forEach=function(n,o,m){Object.keys(n).forEach(function(p){o.call(m,n[p],p,n)})};Object.clone=function(n,p){var o;var m=typeOf(n);switch(m){case"undefined":case"boolean":case"number":case"string":case"null":o=n;break;case"object.Boolean":case"object.Number":case"object.String":case"object.Date":case"object.RegExp":o=new n.constructor(n.valueOf());case"object.Array":if(!o){o=[]}case"object.Object":if(!o){o={}}Object.forEach(n,function(r,q){o[q]=p?Object.clone(r,true):r});break;default:throw new TypeError("Object.clone called on no-cloning type: "+m)}return o};Object.mixin=function(r,n,p){var q=Object.keys(n);if(p){var o=p.whiteList;var m=p.blackList;if(o){q=q.filter(function(s){return o.contains(s)})}if(m){q=q.filter(function(s){return !m.contains(s)})}}q.forEach(function(s){r[s]=n[s]});return r};Object.toQueryString=function(n,p){var m=[];var o=function(q,r){if(r!=null){m.push(p?q+"="+r:encodeURIComponent(q)+"="+encodeURIComponent(r))}};Object.forEach(n,function(r,q){if(Array.isArray(r)){r.forEach(function(s){o(q,s)})}else{o(q,r)}});return m.join("&")};Object.fromQueryString=function(o,m){var n={};o.split("&").forEach(function(r){var p=r.split("=");var q=p[0];var s=p[1];if(s!==undefined){if(!m){q=decodeURIComponent(q);s=decodeURIComponent(s)}if(n.hasOwnProperty(q)){typeof n[q]==="string"?n[q]=[n[q],s]:n[q].push(s)}else{n[q]=s}}});return n};Array.prototype.shuffle=function(){var n=this.length;var o;var m;if(n>1){while(--n){o=Math.floor(Math.random()*(n+1));m=this[n];this[n]=this[o];this[o]=m}}return this};Array.prototype.contains=function(m){return this.indexOf(m)!==-1};Array.prototype.remove=function(n){var m=this.indexOf(n);if(m>-1){this.splice(m,1);return true}return false};Array.prototype.getFirst=function(){return this[0]};Array.prototype.getLast=function(){return this[this.length-1]};var l=/[\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200B\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g;String.prototype.clean=function(){return this.replace(l," ").trim()};String.prototype.camelize=function(m){return e(this).map(function(o,n){return(n||m)?o.slice(0,1).toUpperCase()+o.slice(1).toLowerCase():o.toLowerCase()}).join("")};String.prototype.dasherize=function(){return e(this).join("-").toLowerCase()};Number.prototype.padZero=function(p){var m=(this<0)?"-":"";var o=String(Math.abs(this));if(isFinite(this)){var n=o.length-(Math.ceil(this)==this?0:1);if(n<p){o="0".repeat(p-n)+o}}return m+o};Math.limit=function(o,n,m){return Number.isFinite(o)?Math.min(m,Math.max(n,o)):(o===Infinity?m:n)};Math.randomRange=function(n,m){return Math.floor(Math.random()*(m-n+1)+n)};var a=new Date();var i=a.getTimezoneOffset()*60000;Date.parseExact=function(r,u,o){u=u||"YYYY-MM-DD";var p={};var q;var s;var w;var v;var n;var x;var t=0;while(q=d.exec(u)){w=q[0];s=q.index;n=s+t;if(w==="TZD"){x=r.charAt(n)==="Z"?-2:3}else{if(w==="s"){x=2}else{x=0}}v=r.substring(n,n+w.length+x);if(w==="TZD"){v=v==="Z"?0:(v.slice(0,1)==="-"?1000:-1000)*(v.slice(1,3)*3600+v.slice(4,6)*60)}else{v=Number.toInteger(v);if(w==="MM"){--v}}p[w]=v;t+=x}var m=Object.mixin({YYYY:a.getFullYear(),MM:0,DD:1,hh:0,mm:0,ss:0,s:0,TZD:o?0:i},p);return new Date(Date.UTC(m.YYYY,m.MM,m.DD,m.hh,m.mm,m.ss,m.s)+m.TZD)};Date.prototype.format=function(t,n){t=t||"YYYY-MM-DD";var o=n?"getUTC":"get";var r=this.getTimezoneOffset();var m=r<0?"+":"-";var s=(Math.floor(Math.abs(r)/60)).padZero(2);var p=(Math.abs(r)-s*60).padZero(2);var q={YYYY:this[o+"FullYear"](),MM:(this[o+"Month"]()+1).padZero(2),DD:this[o+"Date"]().padZero(2),hh:this[o+"Hours"]().padZero(2),mm:this[o+"Minutes"]().padZero(2),ss:this[o+"Seconds"]().padZero(2),s:this[o+"Milliseconds"]().padZero(3),TZD:(n||r===0)?"Z":(m+s+":"+p)};return t.replace(d,function(u){return q[u]})};var j=/([.*+?^${}()|\[\]\/\\])/g;RegExp.escape=function(m){return String(m).replace(j,"\\$1")}})(window);(function(b){Object.mixin(navigator,function(){var k="Unknown";var e="Unknown";var i=NaN;var n=navigator.userAgent;if(/Trident|MSIE/.test(n)){k="Trident"}else{if(/WebKit/.test(n)){k="WebKit"}else{if(/Gecko/.test(n)){k="Gecko"}else{if(/Presto/.test(n)){k="Presto"}}}}if(n.match(/(IE|Firefox|Chrome|Safari|Opera)(?: |\/)(\d+)/)){e=RegExp.$1;i=Number.toInteger(RegExp.$2);if(n.match(/Version\/(\d+)/)){i=Number.toInteger(RegExp.$1)}}var o=(navigator.language||navigator.userLanguage).toLowerCase();var l=!!b.WebSocket;if(!l){console.warn("OurJS: Browser version is too low!")}var h=document.compatMode==="CSS1Compat";if(!h){console.warn("OurJS: Browser is working in non-standards mode!")}var g=false;var d=false;var c=false;var j=false;var f=false;if("ActiveXObject" in b){g=true}else{if("uneval" in b){d=true}else{if("chrome" in b){c=true}else{if(getComputedStyle(document.documentElement,null).getPropertyValue("-webkit-user-select")){j=true}else{if("opera" in b){f=true}}}}}var m={touch:"ontouchstart" in b&&"ontouchend" in b&&"ontouchmove" in b&&"ontouchcancel" in b,orientation:"orientation" in b&&"onorientationchange" in b};return{userAgentInfo:{engine:k,name:e,version:i},languageCode:o,isModernBrowser:l,inStandardsMode:h,isIE:g,isFirefox:d,isChrome:c,isSafari:j,isOpera:f,support:m}}());location.parameters=Object.fromQueryString(location.search.slice(1),true);var a=b.cookie={};a.getItem=function(d){var c=document.cookie.match(new RegExp("(?:^|;)\\s*"+RegExp.escape(d)+"=([^;]*)"));return c?decodeURIComponent(c[1]):null};a.setItem=function(d,f,c){c=c||{};var e=d+"="+encodeURIComponent(f);if(c.path){e+="; path="+c.path}if(c.domain){e+="; domain="+c.domain}if(c.secure){e+="; secure"}if(c.expires){e+="; expires="+(typeof c.expires==="string"?Date.parseExact(c.expires,"YYYY-MM-DD hh:mm:ss"):c.expires).toUTCString()}document.cookie=e};a.removeItem=function(d,c){c=c||{};c.expires=new Date(0);this.setItem(d,"",c)}})(window);(function(o){var x=o.document;var A=x.documentElement;o.getClientSize=function(){return{width:A.clientWidth,height:A.clientHeight}};o.getScrollSize=function(){var J=x.body||{scrollWidth:0,scrollHeight:0};return{width:Math.max(A.scrollWidth,J.scrollWidth,A.clientWidth),height:Math.max(A.scrollHeight,J.scrollHeight,A.clientHeight)}};o.getPageOffset=function(){return{x:o.pageXOffset,y:o.pageYOffset}};var G;o.getScrollbarWidth=function(){if(G){return G}else{var J=x.body;var K=$('<div style="position: absolute; top: 0; left: -10000px; width: 100px; height: 100px; overflow: scroll;"><div style="height: 200px;"></div></div>').insertTo(J||A);G=100-K.firstElementChild.offsetWidth;K.remove();return G}};var p=["-o-","-moz-","-ms-","-webkit-",""];var h;o.getAvailableCSSPropertyName=function(K){if(!h){h=o.getComputedStyle(A,null)}var J="";if(h){var M=p.length;var L;while(M){L=p[--M]+K;if(L.camelize(M<2) in h){J=L;break}}}return J};var g=function(){x.removeEventListener("DOMContentLoaded",g,false);x.fire("beforedomready");x.fire("domready");x.fire("afterdomready")};x.addEventListener("DOMContentLoaded",g,false);var u=/(?!<)\w*/;var r={area:["<map>","</map>"],legend:["<fieldset>","</fieldset>"],optgroup:["<select>","</select>"],colgroup:["<table><tbody></tbody>","</table>"],col:["<table><tbody></tbody><colgroup>","</colgroup></table>"],tr:["<table><tbody>","</tbody></table>"],th:["<table><tbody><tr>","</tr></tbody></table>"]};r.option=r.optgroup;r.caption=r.thead=r.tfoot=r.tbody=r.colgroup;r.td=r.th;if(navigator.isIElt9){r.link=r.style=r.script=["#",""]}var I=["",""];o.$=x.$=function(L){var K=null;if(typeof L==="string"){if(L.charAt(0)==="<"&&L.charAt(L.length-1)===">"){var J=u.exec(L)[0].toLowerCase();var M=r[J]||I;K=x.createElement("div");K.innerHTML=M[0]+L+M[1];while((K=K.lastChild)&&K.nodeName.toLowerCase()!==J){}if(K&&K.nodeType!==1){K=null}}else{K=x.querySelector(L)}}else{if(L&&L.nodeType===1){K=L}}return K};x.find=function(J){return this.querySelector(J)};x.findAll=function(J){return Array.from(this.querySelectorAll(J))};var F;x.addStyleRules=function(K){if(!F){x.head.appendChild(x.createElement("style"));var J=x.styleSheets;F=J[J.length-1]}K.forEach(function(L){F.insertRule(L,F.cssRules.length)})};x.loadScript=function(L,K){K=K||{};var J=x.head;var M=x.createElement("script");if(K.charset){M.charset=K.charset}M.src=L;M.onload=M.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){this.onload=this.onreadystatechange=null;J.removeChild(M);if(K.onLoad){K.onLoad.call(this)}}};J.appendChild(M)};x.preloadImages=function(J,K){J.forEach(function(L){var M=new Image();if(K){M.onload=function(){M.onload=null;K.call(M,{src:L})}}M.src=L})};if(!("innerText" in A)){HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("innerText",function(J){this.textContent=J;return J})}if(!("outerText" in A)){HTMLElement.prototype.__defineGetter__("outerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("outerText",function(K){var J=x.createTextNode(K);this.parentNode.replaceChild(J,this);return K})}if(!("insertAdjacentText" in A)){HTMLElement.prototype.insertAdjacentText=function(J,K){switch(J.toLowerCase()){case"beforebegin":case"afterbegin":case"beforeend":case"afterend":this.insertAdjacentElement(J,x.createTextNode(K));break;default:throw new Error('Invalid position "'+J+'"')}}}if(!("insertAdjacentElement" in A)){HTMLElement.prototype.insertAdjacentElement=function(K,J){var L;switch(K.toLowerCase()){case"beforebegin":if(L=this.parentNode){L.insertBefore(J,this)}break;case"afterbegin":this.insertBefore(J,this.firstChild);break;case"beforeend":this.appendChild(J);break;case"afterend":if(L=this.parentNode){L.insertBefore(J,this.nextSibling)}break;default:throw new Error('Invalid position "'+K+'"')}return J}}var y=/[ >+~]/;var i="__temporary__";Element.prototype.getParent=function(){return this.parentElement};Element.prototype.getPreviousSibling=function(){return this.previousElementSibling};Element.prototype.getNextSibling=function(){return this.nextElementSibling};Element.prototype.getFirstChild=function(){return this.firstElementChild};Element.prototype.getLastChild=function(){return this.lastElementChild};Element.prototype.getChildren=function(){return Array.from(this.children)};Element.prototype.getChildCount=function(){return this.childElementCount};Element.prototype.find=function(J){var K;if(y.test(J)){var L=this.getAttribute("id");if(!L){this.setAttribute("id",L=i)}K=this.querySelector('[id="'+L+'"] '+J);if(L===i){this.removeAttribute("id")}}else{K=this.querySelector(J)}return K};Element.prototype.findAll=function(K){var J;if(y.test(K)){var L=this.getAttribute("id");if(!L){this.setAttribute("id",L=i)}J=this.querySelectorAll('[id="'+L+'"] '+K);if(this.id===i){this.removeAttribute("id")}}else{J=this.querySelectorAll(K)}return Array.from(J)};var d=function(){var J="";var L=["matchesSelector","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector"];var K;while(K=L.shift()){if(K in A){J=K;break}}return J}();Element.prototype.matchesSelector=d?function(J){return this[d](J)}:function(){throw new TypeError('Unsupport method "matchesSelector"')};Element.prototype.clone=function(M,L){var K=this.cloneNode(M);var J=[this];var N=[K];if(M){J=J.concat(Array.from(this.getElementsByTagName("*")));N=N.concat(Array.from(K.getElementsByTagName("*")))}J.forEach(function(O,Q){var P=N[Q];switch(P.nodeName){case"INPUT":case"TEXTAREA":if(P.type==="radio"||P.type==="checkbox"){P.checked=P.defaultChecked=O.defaultChecked}P.value=P.defaultValue=O.defaultValue;break;case"OPTION":P.selected=P.defaultSelected=O.defaultSelected;break}if(L){var R=O.eventHandlers;if(R){Object.forEach(R,function(S){S.forEach(function(T){P.on(T.name,T.listener)})})}}});return K};Element.prototype.insertTo=function(K,J){J=J||"beforeEnd";return K.insertAdjacentElement(J,this)};Element.prototype.swap="swapNode" in A?function(J){return this.swapNode(J)}:function(J){var M=J.parentElement;var L=this.parentElement;var K=this.nextSibling;if(M){M.replaceChild(this,J)}else{this.remove(true)}if(L){L.insertBefore(J,K)}return this};Element.prototype.replace=function(J,K){var L=J.parentElement;if(L){if(!K){Array.from(B(J).getElementsByTagName("*")).forEach(B)}L.replaceChild(this,J)}return this};Element.prototype.remove=function(J){var K=this.parentElement;if(K){if(!J){Array.from(B(this).getElementsByTagName("*")).forEach(B)}K.removeChild(this)}return this};Element.prototype.empty=function(){Array.from(this.getElementsByTagName("*")).forEach(B);while(this.firstChild){this.removeChild(this.firstChild)}return this};Element.prototype.getClientRect=function(){return this.getBoundingClientRect()};Element.prototype.hasClass=function(J){var K=this.classList;return J.split(s).every(function(L){return K.contains(L)})};Element.prototype.addClass=function(J){var K=this.classList;J.split(s).forEach(function(L){K.add(L)});return this};Element.prototype.removeClass=function(J){var K=this.classList;J.split(s).forEach(function(L){K.remove(L)});return this};Element.prototype.toggleClass=function(J){var L=this.classList;var K=arguments.length===1?undefined:!!arguments[1];J.split(s).forEach(function(M){switch(K){case true:L.add(M);break;case false:L.remove(M);break;default:L.toggle(M);break}});return this};var D={"fill-opacity":true,"font-weight":true,"line-height":true,opacity:true,orphans:true,widows:true,"z-index":true,zoom:true};var H={};["user-select","transform","transform-origin","backface-visibility","perspective","transition","transition-property","transition-duration","transition-timing-function","transition-delay"].forEach(function(J){var K=o.getAvailableCSSPropertyName(J);if(K){H[J]=K}});Element.prototype.getStyle=function(K){K=K.dasherize();K=H[K]||K;var J=o.getComputedStyle(this,null);return J&&J.getPropertyValue(K)||""};Element.prototype.getStyles=function(J){var K={};J.forEach(function(L){K[L]=this.getStyle(L)},this);return K};Element.prototype.setStyle=function(K,J){K=K.dasherize();K=H[K]||K;if(J===""){this.style.removeProperty(K)}else{this.style.setProperty(K,Number.isFinite(J)&&!D[K]?J+"px":J)}return this};Element.prototype.setStyles=function(J){Object.forEach(J,function(K,L){this.setStyle(L,K)},this);return this};Element.prototype.reflow=function(){var J=this.offsetWidth;return this};var j=/^[a-z][a-zA-Z]*$/;var f=function(J){return j.test(J)?"data-"+J.dasherize():""};Element.prototype.getData="dataset" in A?function(J){var K=this.dataset[J];return K===undefined?null:K}:function(J){J=f(J);var K=this.getAttribute(J);return typeof K==="string"?K:null};Element.prototype.setData=function(J,K){J=f(J);if(J){this.setAttribute(J,String(K))}return this};Element.prototype.removeData=function(J){J=f(J);if(J){this.removeAttribute(J)}return this};var m=function(P){var M="";if(P.nodeType){switch(P.type){case"radio":case"checkbox":if(P.checked&&!P.disabled){M=P.value}break;case"select-one":case"select-multiple":if(!P.disabled){var K=P.options;var L=0;var O;if(P.type==="select-one"){var J=P.selectedIndex;if(navigator.isSafari&&J===0&&!K[0].hasAttribute("selected")){while(O=K[++L]){if(!O.disabled&&!O.parentNode.disabled){J=L;break}}}if(J>=0&&!K[J].disabled){M=K[J].value}}else{M=[];while(O=K[L++]){if(O.selected&&!O.disabled&&!O.parentNode.disabled){M.push(O.value)}}}}break;default:if(!P.disabled){M=P.value}}}else{M=[];var N=true;Array.from(P).forEach(function(R){var Q=m(R);if(Q){M=M.concat(Q)}if(N&&R.type!=="radio"){N=false}});if(N){M=M.getFirst()}}return M};HTMLFormElement.prototype.getFieldValue=function(J){var K=this.elements[J];if(!K){throw new Error('Invalid field name "'+J+'"')}return m(K)};HTMLFormElement.prototype.getFieldValues=function(M,L){var K=this;if(!M){M=[];Array.from(K.elements).forEach(function(O){var N=O.name;if(N&&!M.contains(N)){M.push(N)}})}var J={};M.forEach(function(N){try{J[N]=K.getFieldValue(N)}catch(O){if(!L){throw (O)}}});return J};HTMLFormElement.prototype.setFieldValue=function(M,O){var P=this.elements[M];if(!P){throw new Error('Invalid field name "'+M+'"')}var N=P.type;var K=false;if(N){if(N!=="select-multiple"){K=true}}else{K=Array.from(P).every(function(Q){return Q.type==="radio"})}var L=Array.isArray(O)?!K:K;if(!L){throw new Error('Unacceptable field value "'+JSON.stringify(O)+'"')}var J=Array.isArray(O)?O:[O];(P.nodeType?[P]:Array.from(P)).forEach(function(S){switch(S.type){case"radio":case"checkbox":S.checked=J.contains(S.value);break;case"select-one":case"select-multiple":var Q=S.options;var R=0;var T;while(T=Q[R++]){T.selected=J.contains(T.value)}break;default:S.value=O||""}});return this};HTMLFormElement.prototype.setFieldValues=function(K,L){var J=this;Object.forEach(K,function(N,M){try{J.setFieldValue(M,N)}catch(O){if(!L){throw (O)}}});return J};if(HTMLSelectElement.prototype.remove){HTMLSelectElement.prototype.remove=Element.prototype.remove}HTMLSelectElement.prototype.insertOption=function(J,N,M,L,K){this.options.add(new Option(N,M,L,K),J);return this};HTMLSelectElement.prototype.deleteOption=function(J){var K=J>-1?this.options[J]:null;if(K){K.remove()}return this};var v={mousedown:5,mouseup:5,click:5,dblclick:5,contextmenu:5,mousemove:5,mouseover:5,mouseout:5,mouseenter:1,mouseleave:1,mousewheel:5,mousedragstart:5,mousedrag:5,mousedragend:5,mousedragenter:5,mousedragleave:5,mousedragover:5,mousedrop:5,dragstart:5,drag:5,dragend:5,dragenter:5,dragleave:5,dragover:5,drop:5,keydown:6,keypress:6,keyup:6,focus:0,blur:0,focusin:4,focusout:4,input:4,change:4,select:0,cut:4,copy:4,paste:4,submit:0,reset:0,scroll:0,resize:0,load:0,unload:0,error:0,beforedomready:0,domready:0,afterdomready:0,transitionend:4,touchstart:4,touchend:4,touchmove:4,touchcancel:4,orientationchange:0};var w={mouseenter:true,mouseleave:true};var C=function(){return true};var n=function(){return false};var s=/\s*,\s*/;var b=/^([a-zA-Z]+)(?::relay\(([^\)]+)\))?(?::(once)|:idle\((\d+)\)|:throttle\((\d+)\))?(?:\.\w+)?$/;var q=/({)|}/g;var k=function(K){var M="";var O=0;var L=0;var N;while(N=K.charAt(L++)){if(N==="{"||N==="}"){M="";break}if(N==="("){if(O>0){N="{"}++O}else{if(N===")"){--O;if(O>0){N="}"}}}M+=N}var J=M.match(b);if(J===null){throw new SyntaxError('Invalid listener name "'+K+'"')}return{type:J[1],selector:J[2]?J[2].replace(q,function(Q,P){return P?"(":")"}):"",once:!!J[3],idle:parseInt(J[4],10),throttle:parseInt(J[5],10)}};var a=function(S,N,J,M){var T=N.slice(0);var P=N.delegateCount;var K=P?J.target:S;var L={};var U;var O;var Q;var R;do{if(K===S){Q=P;R=T.length}else{Q=0;R=P}while(Q<R){U=T[Q++];O=U.selector;if(!O||(L[O]||(L[O]=function(W){if(W){return function(Z){var X=W.tagName;var Y=W.className;return(X?Z.nodeName.toUpperCase()===X:true)&&(Y?Z.hasClass(Y):true)}}else{var V=S.findAll(O);return function(X){return V.contains(X)}}}(U.simpleSelector)))(K)){if(!M||M.call(K,J)){if(U.listener.call(K,J)===false){J.stopPropagation();J.preventDefault()}if(J.isImmediatePropagationStopped()){break}}}}}while(!(K===S||J.isPropagationStopped())&&(K=K===x&&o||K===A&&x||K.getParent()))};var B=function(M){var L=M.eventHandlers;if(L){var K=Object.keys(L);var J;while(K.length){J=L[K.shift()];while(J.length){M.off(J[0].name)}}}return M};var c={};c.mousedragstart=c.mousedrag=c.mousedragend=function(){var J=["mousedragstart","mousedrag","mousedragend"];var P=function(ac){ac.preventDefault()};if((navigator.isChrome||navigator.isSafari)&&o!==top){P.enabled=true}var K=navigator.support.touch;var O=NaN;var Z=null;var X=0;var W=0;var S=false;var ab=null;var L=null;var aa={};var Q=["timeStamp","ctrlKey","altKey","shiftKey","metaKey","clientX","clientY","screenX","screenY","pageX","pageY","leftButton","middleButton","rightButton","which"];var U=function(ac){Q.forEach(function(ad){if(ac[ad]){aa[ad]=ac[ad]}})};var Y=function(ae){if(!Z){var ad=new z(ae.type,ae);if(K||ad.leftButton){Z=ad.target;X=ad.pageX;W=ad.pageY;U(ad);aa.offsetX=aa.offsetY=0;var ac=Z.fire("mousedragstart",aa);aa.relatedTarget=ac.relatedTarget||null;S=!!ac.aimRelatedTarget;if(ac.isDefaultPrevented()){if(Z.setCapture){Z.setCapture()}if(P.enabled){x.addEventListener("selectstart",P,false)}else{ad.preventDefault()}}setTimeout(function(){if(K){x.addEventListener("touchmove",N,false);x.addEventListener("touchend",M,false);x.addEventListener("touchcancel",M,false)}else{x.addEventListener("mousemove",T,false);x.addEventListener("mousedown",V,false);x.addEventListener("mouseup",V,false)}o.addEventListener("blur",V,false)},0)}}};var T=function(ag){var ad=new z(ag.type,ag);U(ad);aa.offsetX=ad.pageX-X;aa.offsetY=ad.pageY-W;Z.fire("mousedrag",aa);var ak=ad.clientX;var aj=ad.clientY;var ah=aa.relatedTarget;if(ah){if(S){var ac=ah.getClientRect();ak=ac.left+Math.floor(ac.width/2);aj=ac.top+Math.floor(ac.height/2)}var ae=ah.style;var af=ae.left;var ai=ae.top;ae.left="-50000px";ae.top="0"}ab=x.elementFromPoint(ak,aj);if(ah){ae.left=af;ae.top=ai}if(ab!==L){if(L){L.fire("mousedragleave",aa)}if(ab){ab.fire("mousedragenter",aa)}}if(ab){ab.fire("mousedragover",aa)}L=ab};var V=function(ad){if(ad.type.startsWith("mouse")){var ac=new z(ad.type,ad);U(ac)}aa.timeStamp=Date.now();if(ab){ab.fire("mousedrop",aa)}Z.fire("mousedragend",aa);if(Z.releaseCapture){Z.releaseCapture()}if(P.enabled){x.removeEventListener("selectstart",P,false)}Z=ab=L=null;X=W=0;S=false;aa={};if(K){x.removeEventListener("touchmove",N,false);x.removeEventListener("touchend",M,false);x.removeEventListener("touchcancel",M,false)}else{x.removeEventListener("mousemove",T,false);x.removeEventListener("mousedown",V,false);x.removeEventListener("mouseup",V,false)}o.removeEventListener("blur",V,false)};var R=function(ac){if(!O){var ad=ac.changedTouches[0];O=ad.identifier;Y(Object.mixin(ad,{type:"mousedown",preventDefault:function(){ac.preventDefault()}}))}};var N=function(ac){var ad=null;Array.from(ac.changedTouches).some(function(ae){if(ae.identifier===O){ad=ae}return ad});if(ad){T(Object.mixin(ad,{type:"mousemove"}))}};var M=function(ac){var ad=null;Array.from(ac.changedTouches).some(function(ae){if(ae.identifier===O){O=NaN;ad=ae}return ad});if(ad){V(Object.mixin(ad,{type:"mouseup"}))}};return{add:function(ad){if(K){ad.addEventListener("touchstart",R,false)}else{ad.addEventListener("mousedown",Y,false)}var ac=ad.eventHandlers;J.forEach(function(af){if(!ac[af]){var ae=[];ae.delegateCount=0;ac[af]=ae}})},remove:function(ae){var ad=ae.eventHandlers;var ac=0;J.forEach(function(af){ac+=ad[af].length});if(ac===0){if(K){ae.removeEventListener("touchstart",R,false)}else{ae.removeEventListener("mousedown",Y,false)}J.forEach(function(af){delete ad[af]})}return false}}}();if(navigator.isFirefox){Object.forEach({focusin:"focus",focusout:"blur"},function(L,K){var M=0;var J=function(N){N.target.fire(K)};c[K]={add:function(){if(++M===1){x.addEventListener(L,J,true)}},remove:function(){if(--M===0){x.removeEventListener(L,J,true)}}}})}if(navigator.isFirefox){var e=function(J){var L=J.nodeName;var K=J.type;return L==="TEXTAREA"||L==="INPUT"&&(K==="text"||K==="password")};x.addEventListener("drop",function(K){var J=K.target;if(e(J)&&J!==x.activeElement){setTimeout(function(){J.fire("change")},0)}},false)}function z(J,N,L){var K=v.hasOwnProperty(J)?v[J]:0;this.originalEvent=N;this.type=J;var M=N.target||x;if(M.nodeType===3){M=M.parentNode}this.target=M;this.timeStamp=N.timeStamp||Date.now();this.bubbles=!!(K&4);if(N.type){if(K&3){this.ctrlKey=N.ctrlKey;this.altKey=N.altKey;this.shiftKey=N.shiftKey;this.metaKey=N.metaKey;if(K&1){this.clientX=N.clientX;this.clientY=N.clientY;this.screenX=N.screenX;this.screenY=N.screenY;this.pageX=N.pageX;this.pageY=N.pageY;var O=N.which;this.leftButton=O===1;this.middleButton=O===2;this.rightButton=O===3;this.which=O;this.relatedTarget=N.relatedTarget}else{this.which=N.which}}}else{if(L){Object.mixin(this,L,{blackList:["originalEvent","type","target"]})}}}Object.mixin(z.prototype,{stopPropagation:function(){var J=this.originalEvent;if(J){J.stopPropagation()}this.isPropagationStopped=C},isPropagationStopped:n,preventDefault:function(){var J=this.originalEvent;if(J){J.preventDefault()}this.isDefaultPrevented=C},isDefaultPrevented:n,stopImmediatePropagation:function(){this.stopPropagation();this.isImmediatePropagationStopped=C},isImmediatePropagationStopped:n});var l=function(){};var E=/^(\w*)(?:\.([\w\-]+))?$/;var t={transition:"transitionend",mstransition:"MSTransitionEnd",moztransition:"transitionend",webkittransition:"webkitTransitionEnd",otransition:"oTransitionEnd"}[getAvailableCSSPropertyName("transition").camelize().toLowerCase()];l.prototype.on=function(J,K){var M=this;var L=M.eventHandlers||(M.eventHandlers={});J.split(s).forEach(function(N){var S=k(N);var V=S.type;var Q=S.selector;var O=S.once;var R=S.idle;var W=S.throttle;var P=L[V]||(L[V]=[]);if(!("delegateCount" in P)){if(v.hasOwnProperty(V)){if(c[V]){c[V].add(M)}else{var U;switch(V){case"mousewheel":U=function(aa){var Z=new z(V,aa);var Y="wheelDelta" in aa?-aa.wheelDelta:aa.detail||0;Z.wheelUp=Y<0;Z.wheelDown=Y>0;a(M,P,Z)};U.type=navigator.isFirefox?"DOMMouseScroll":"mousewheel";break;case"mouseenter":case"mouseleave":U=function(Y){a(M,P,new z(V,Y),function(aa){var Z=aa.relatedTarget;return !Z||this.contains&&!this.contains(Z)})};U.type=V==="mouseenter"?"mouseover":"mouseout";break;case"transitionend":U=function(Z){var Y=new z(V,Z);Y.propertyName=Z.propertyName;a(M,P,Y)};U.type=t;break;default:U=function(Y){a(M,P,new z(V,Y))};U.type=V}M.addEventListener(U.type,U,false);P.distributor=U}}P.delegateCount=0}var X={name:N};if(O){X.listener=function(Z){var Y=K.call(this,Z);M.off(N);return Y}}else{if(R){X.listener=function(){var Y;return function(aa){var Z=this;if(Y){clearTimeout(Y)}Y=setTimeout(function(){K.call(Z,aa);Y=undefined},R)}}()}else{if(W){X.listener=function(){var ab;var Z;var Y;var aa=0;return function(ae){Z=this;Y=ae;var ac=Date.now();var ad=ac-aa;if(!ab){ab=setTimeout(function(){K.call(Z,Y);aa=Date.now();ab=undefined},ad<W?W-ad:0)}}}()}else{X.listener=K}}}if(Q){X.selector=Q;var T;if(T=Q.match(E)){X.simpleSelector={tagName:T[1].toUpperCase(),className:T[2]||""}}P.splice(P.delegateCount++,0,X)}else{P.push(X)}});return M};l.prototype.off=function(J){var L=this;var K=L.eventHandlers;if(!K){return L}J.split(s).forEach(function(N){var Q=k(N).type;var M=K[Q];if(!M){return}var O=0;var P;while(O<M.length){P=M[O];if(P.name===N){M.splice(O,1);if(P.selector){M.delegateCount--}}else{O++}}if(M.length===0){if(v.hasOwnProperty(Q)){if(c[Q]){if(c[Q].remove(L)===false){return}}else{var R=M.distributor;L.removeEventListener(R.type,R,false)}}delete K[Q]}});if(Object.keys(K).length===0){delete L.eventHandlers}return L};l.prototype.fire=function(K,M){var L=new z(K,{type:"",target:this,stopPropagation:n,preventDefault:n},M);var O=this;var N;var J;while(O){if(J=(N=O.eventHandlers)&&N[L.type]){a(O,J,L)}if(!L.bubbles||L.isPropagationStopped()||O===o){break}O=O===x&&o||O===A&&x||O.getParent()}return L};o.on=x.on=Element.prototype.on=l.prototype.on;o.off=x.off=Element.prototype.off=l.prototype.off;o.fire=x.fire=Element.prototype.fire=l.prototype.fire})(window);(function(d){var f=/\s*,\s*/;var b=/^([a-zA-Z]+)(?:\.\w+)?$/;var a=function(h){var g=h.match(b);if(g===null){throw new SyntaxError('Invalid listener name "'+h+'"')}return g[1]};var e=function(g,i,h){this.type=g;this.target=i;if(h){Object.mixin(this,h,{blackList:["type","target"]})}};var c=d.JSEventTarget=function(){this.eventHandlers={}};c.create=function(g){this.call(g);Object.mixin(g,this.prototype);return g};c.prototype.on=function(g,h){var i=this.eventHandlers;g.split(f).forEach(function(k){var l=a(k);var j=i[l]||(i[l]=[]);j.push({name:k,listener:h})});return this};c.prototype.off=function(g){var h=this.eventHandlers;g.split(f).forEach(function(k){var n=a(k);var j=h[n];if(j){var l=0;var m;while(l<j.length){m=j[l];if(m.name===k){j.splice(l,1)}else{l++}}if(j.length===0){delete h[n]}}});return this};c.prototype.fire=function(h,j){var k=this;var i=new e(h,k,j);var g=k.eventHandlers[h];if(g){g.slice(0).forEach(function(l){l.listener.call(k,i)})}return i}})(window);(function(E){var z={};var D=-2;var e=-1;var h=0;var v=1;var q=2;var b=-1;var p=0;var J=1;var L=function(Q,P,Z,Y){var O=0,X=0,V=0,aa=0,W=0,U=0;var T=function(ab){return((O*ab+X)*ab+V)*ab};var S=function(ab){return((aa*ab+W)*ab+U)*ab};var R=function(ad){var ah,ag,ae,ab,af,ac;var ai=0.001;for(ae=ad,ac=0;ac<8;ac++){ab=T(ae)-ad;if(Math.abs(ab)<ai){return ae}af=(3*O*ae+2*X)*ae+V;if(Math.abs(af)<0.000001){break}ae=ae-ab/af}ah=0;ag=1;ae=ad;if(ae<ah){return ah}if(ae>ag){return ag}while(ah<ag){ab=T(ae);if(Math.abs(ab-ad)<ai){return ae}if(ad>ab){ah=ae}else{ag=ae}ae=(ag-ah)*0.5+ah}return ae};V=3*Q;X=3*(Z-Q)-V;O=1-V-X;U=3*P;W=3*(Y-P)-U;aa=1-U-W;return function(ab){return S(R(ab))}};var x={linear:function(O){return O},bounceIn:function(P){P=1-P;var R;for(var Q=0,O=1;1;Q+=O,O/=2){if(P>=(7-4*Q)/11){R=O*O-Math.pow((11-6*Q-11*P)/4,2);break}}return 1-R},bounceOut:function(P){var R;for(var Q=0,O=1;1;Q+=O,O/=2){if(P>=(7-4*Q)/11){R=O*O-Math.pow((11-6*Q-11*P)/4,2);break}}return R},ease:L(0.25,0.1,0.25,1),easeIn:L(0.42,0,1,1),easeOut:L(0,0,0.58,1),easeInOut:L(0.42,0,0.58,1),easeOutIn:L(0,0.42,1,0.58)};var K=function(O){O=O||"";return x[O]||(O.startsWith("cubic-bezier")?L.apply(null,O.slice(13,-1).split(",").map(function(P){return parseFloat(P)})):x.ease)};var A=function(O,Q,P){O.clips.forEach(function(S){var U=false;var T=S.duration;var R=(Q-S.delay)/Math.max(1,T);if(P){if(S.status===J){return}if(S.status===b){if(R>=0){R=T?0:1;S.status=p}}if(S.status===p){U=true;if(R>=1){R=1;S.status=J}}}else{if(S.status===b){return}if(S.status===J){if(R<=1){R=T?1:0;S.status=p}}if(S.status===p){U=true;if(R<=0){R=0;S.status=b}}}if(U){S.call(O,R,R===0?0:(R===1?1:S.timingFunction(R)))}});O.fire("step");if(P){if(Q===O.duration){if(O.timestamp){w(O)}O.status=q;O.fire("playfinish")}}else{if(Q===0){if(O.timestamp){w(O)}O.status=D;O.fire("reversefinish")}}};var o=false;var d=[];var m=E.requestAnimationFrame||E.mozRequestAnimationFrame||E.webkitRequestAnimationFrame||function(O){setTimeout(O,1000/60)};var F=function(){var O=Date.now();d.forEach(function(P){var R=P.status===v;var Q=Math.limit(P.timePoint+(O-P.timestamp)*(R?1:-1),0,P.duration);P.timestamp=O;P.timePoint=Q;A(P,Q,R)});if(d.length){m(F)}else{o=false}};var H=function(O){O.timestamp=Date.now();d.push(O);if(!o){m(F);o=true}};var w=function(O){delete O.timestamp;d.remove(O)};var n=E.Animation=function(){this.clips=[];this.timePoint=0;this.status=D;this.duration=0;JSEventTarget.create(this)};n.prototype.addClip=function(Q,O,R,P){Q.delay=O;Q.duration=R;Q.timingFunction=K(P);Q.status=b;this.clips.push(Q);this.duration=Math.max(this.duration,O+R);return this};n.prototype.play=function(P){var Q=this;var T=P!==z;var O=Q.status;if(T&&O!==v&&O!==q||!T&&O!==e&&O!==D){if(T){Q.status=v;Q.fire("play");if(O===D&&Q.status===v){Q.fire("playstart")}}else{Q.status=e;Q.fire("reverse");if(O===q&&Q.status===e){Q.fire("reversestart")}}if(!Q.timestamp&&(Q.status===v||Q.status===e)){var S=Q.timePoint;var R=Q.duration;A(Q,S,T);if(T?S!==R:S!==0){H(Q)}}return true}return false};n.prototype.reverse=function(){return this.play(z)};n.prototype.pause=function(){var O=this;if(O.status===v||O.status===e){if(O.timestamp){w(O)}O.status=h;O.fire("pause");return true}return false};var r=1;var I=2;var s=4;var N={};var c=["opacity"];var t=["top","right","bottom","left","width","height","outlineWidth","backgroundPositionX","backgroundPositionY","fontSize","lineHeight","letterSpacing","wordSpacing","textIndent"];t.push("margin","padding","borderWidth","borderColor");var i=["color","backgroundColor","outlineColor"];["Top","Right","Bottom","Left"].forEach(function(O){t.push("margin"+O,"padding"+O,"border"+O+"Width");i.push("border"+O+"Color")});c.forEach(function(O){N[O]=r});t.forEach(function(O){N[O]=I});i.forEach(function(O){N[O]=s});var C=function(P){var O=parseFloat(P);return isFinite(O)?O:0};var B={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8B",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var G=/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i;var l=/^#([\da-f])([\da-f])([\da-f])$/i;var j=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/;var k=function(Q){var P=[255,255,255];if(B.hasOwnProperty(Q)){Q=B[Q]}var O;if(O=Q.match(G)){P=Array.from(O).slice(1).map(function(R){return parseInt(R,16)})}else{if(O=Q.match(l)){P=Array.from(O).slice(1).map(function(R){return parseInt(R+R,16)})}else{if(O=Q.match(j)){P=Array.from(O).slice(1).map(function(R){return +R})}}}return P};var g=/^[+\-]=\d+$/;var u=function(O,P){return typeof P==="string"&&g.test(P)?O+(+(P.slice(0,1)+"1")*P.slice(2)):C(P)};var M=function(P,Q){var O=P.getStyles(Object.keys(Q));var R={before:{},after:{}};Object.forEach(O,function(U,S){var T=Q[S];switch(N[S]){case r:R.before[S]=C(U);R.after[S]=C(T);break;case I:R.before[S]=U=C(U);R.after[S]=u(U,T);break;case s:R.before[S]=k(U);R.after[S]=k(T);break}});return R};n.createBasicRenderer=function(O){O.type="basic";return O};n.createStyleRenderer=function(P,Q){var O=document.$(P);var S=M(O,Q);var R=function(T,U){Object.forEach(S.before,function(Y,V){var W=S.after[V];var X;switch(N[V]){case r:X=(Y+(W-Y)*U).toFixed(2);break;case I:X=Math.floor(Y+(W-Y)*U)+"px";break;case s:X="rgb("+Math.floor(Y[0]+(W[0]-Y[0])*U)+", "+Math.floor(Y[1]+(W[1]-Y[1])*U)+", "+Math.floor(Y[2]+(W[2]-Y[2])*U)+")";break}O.setStyle(V,X)})};R.type="style";return R};n.createScrollRenderer=function(P,U,T){var W=document.$(P);if(W===document.documentElement){W=document.body}var Q=W.scrollLeft;var V=W.scrollTop;var S=u(Q,U)-Q;var O=u(V,T)-V;var R=function(X,aa){var Z=Math.round(Q+S*aa);var Y=Math.round(V+O*aa);W.scrollLeft=Z;W.scrollTop=Y};R.type="scroll";return R};var f=/\s*,\s*/;var a=function(){};var y=function(O){return O._animations_||(O._animations_={})};Element.prototype.morph=function(R,P){var O=this;P=Object.mixin({duration:400,timingFunction:"ease",onStart:a,onStep:a,onFinish:a},P||{});var T=y(O);var S=T.morph;if(S){S.pause()}var Q=T.morph=new n().addClip(n.createStyleRenderer(O,R),0,P.duration,P.timingFunction).on("playstart",function(U){P.onStart.call(O,U)}).on("step",function(U){P.onStep.call(O,U)}).on("playfinish",function(U){delete T.morph;P.onFinish.call(O,U)});Q.play();return O};Element.prototype.highlight=function(Q,U,R){var O=this;Q=Q||"yellow";U=U||"backgroundColor";R=Object.mixin({duration:500,timingFunction:"easeIn",onStart:a,onStep:a,onFinish:a},R||{});var V=y(O);var T=V.highlight;if(T){T.pause();O.setStyle(T.property,T.originalColor)}var S={};S[U]=O.getStyle(U);var P=V.highlight=new n().on("playstart",function(W){O.setStyle(U,Q);this.addClip(n.createStyleRenderer(O,S),0,R.duration,R.timingFunction);R.onStart.call(O,W)}).on("step",function(W){R.onStep.call(O,W)}).on("playfinish",function(W){O.setStyle(this.property,this.originalColor);delete V.highlight;R.onFinish.call(O,W)});P.property=U;P.originalColor=O.style[U];P.play();return O};Element.prototype.fade=function(S,X){var U=this;var V=y(U);var P=V.fade;var R=P?!P.isFadeInMode:U.getStyle("display")==="none";var W;switch((S||"toggle").toLowerCase()){case"toggle":W=R;break;case"in":W=true;break;case"out":W=false;break;default:throw new Error('Invalid mode "'+S+'"')}if(P||W===R){X=Object.mixin({duration:200,timingFunction:"easeIn",onStart:a,onStep:a,onFinish:a},X||{});var O;var T;if(P){O=P.originalOpacity;T=Math.abs((W===P.isFadeInMode?0:1)-P.percentageNeedsPlay*(1-(P.timePoint/P.duration)));P.pause()}else{O=U.getStyle("opacity");T=1;if(W){U.setStyles({display:"block",opacity:0})}}var Q=V.fade=new n().addClip(n.createStyleRenderer(U,{opacity:W?O:0}),0,X.duration*T,X.timingFunction).on("playstart",function(Y){X.onStart.call(U,Y)}).on("step",function(Y){X.onStep.call(U,Y)}).on("playfinish",function(Y){delete V.fade;if(!W){U.setStyles({display:"none",opacity:O})}X.onFinish.call(U,Y)});Q.isFadeInMode=W;Q.originalOpacity=O;Q.percentageNeedsPlay=T;Q.play()}return U};Element.prototype.smoothScroll=function(P,U,R){var Q=this;R=Object.mixin({duration:200,timingFunction:"easeInOut",onStart:a,onStep:a,onFinish:a},R||{});var T=y(Q);var S=T.smoothScroll;if(S){S.pause()}var O=T.smoothScroll=new n().addClip(n.createScrollRenderer(Q,P,U),0,R.duration,R.timingFunction).on("playstart",function(V){R.onStart.call(Q,V)}).on("step",function(V){R.onStep.call(Q,V)}).on("playfinish",function(V){delete T.smoothScroll;R.onFinish.call(Q,V)});O.play();return Q};Element.prototype.cancelAnimation=function(Q){var O=this;var R=y(O);var P=Q?Q.split(f):null;Object.forEach(R,function(T,S){if(P===null||P.contains(S)){T.pause();delete R[S];switch(S){case"morph":break;case"highlight":O.setStyle(T.property,T.originalColor);break;case"fade":O.setStyles({display:T.isFadeInMode?"block":"none",opacity:T.originalOpacity});break;case"smoothScroll":break}}});return O}})(window);(function(g){var e=Date.now();var a=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;var d=function(j){var i={};var h;while(h=a.exec(j)){i[h[1]]=h[2]}return i};var f=function(m,j,l){var i=NaN;var k=NaN;var h="";if(l.lengthComputable){i=l.loaded;k=l.total;h=Math.floor(i/k*100)+"%"}m.fire(j,{loaded:i,total:k,percentage:h})};var c=function(i,j){var k=i.xhr;delete i.xhr;delete i.startTime;if(i.minTimeTimer){j="complete";clearTimeout(i.minTimeTimer);delete i.minTimeTimer}if(i.maxTimeTimer){clearTimeout(i.maxTimeTimer);delete i.maxTimeTimer}i.inProgress=false;var h={status:0,statusText:"",headers:{},text:""};switch(j){case"abort":k.abort();break;case"error":break;case"timeout":k.abort();break;case"complete":h.status=k.status;h.statusText=k.statusText;h.headers=d(k.getAllResponseHeaders());h.text=k.responseText;break}i.fire(j,h);h.state=j;i.fire("finish",h)};var b=g.Request=function(i,h){this.url=i;h=Object.mixin(Object.clone(b.options,true),h||{});h.method=h.method.toUpperCase();h.contentType=h.contentType.toLowerCase();Object.mixin(this,h,{whiteList:Object.keys(b.options)});this.inProgress=false;JSEventTarget.create(this)};b.options={method:"GET",noCache:false,sync:false,minTime:NaN,maxTime:NaN,username:"",password:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"*/*"},contentType:"multipart/form-data",withCredentials:false};b.prototype.send=function(k){var j=this;if(!j.inProgress){j.inProgress=true;j.startTime=Date.now();var i=j.url;var o=j.method;var n=!j.sync;var m=undefined;var h=null;if(k){switch(o){case"OPTIONS":case"HEAD":case"GET":i+=(i.contains("?")?"&":"?")+Object.toQueryString(k);break;case"POST":case"PUT":case"PATCH":case"DELETE":m=j.contentType;if(m.startsWith("multipart/form-data")){m=undefined;h=new FormData();Object.forEach(k,function(q,p){h.append(p,q)})}else{if(m.startsWith("application/x-www-form-urlencoded")){h=Object.toQueryString(k)}else{if(m.startsWith("application/json")){h=JSON.stringify(k)}}}break}}if(j.noCache){i+=(i.contains("?")?"&":"?")+"_="+(++e).toString(36)}var l=j.xhr=new XMLHttpRequest();l.open(o,i,n,j.username,j.password);Object.forEach(j.headers,function(q,p){l.setRequestHeader(p,q)});if(m){l.setRequestHeader("Content-Type",m)}if(j.withCredentials){l.withCredentials=true}l.upload.addEventListener("progress",function(p){f(j,"uploading",p)});l.addEventListener("progress",function(p){f(j,"downloading",p)});l.addEventListener("error",function(){c(j,"error")});l.addEventListener("load",function(){if(n&&Number.isFinite(j.minTime)){var p=j.minTime-(Date.now()-j.startTime);if(p>0){j.minTimeTimer=setTimeout(function(){c(j,"complete")},p);return}}c(j,"complete")});if(n&&Number.isFinite(j.maxTime)){j.maxTimeTimer=setTimeout(function(){c(j,"timeout")},Math.max(0,j.maxTime))}j.fire("start");l.send(h);return true}return false};b.prototype.abort=function(){if(this.inProgress){c(this,"abort");return true}return false}})(window);(function(c){var a={};var b=c.Widget={};b.register=function(e){if(e.styleRules){document.addStyleRules(e.styleRules)}a[e.type]={selector:e.selector,nodeName:e.selector.substring(0,e.selector.indexOf(".")).toUpperCase(),parse:function(f){if(e.config){Object.forEach(e.config,function(g,i){var j=g;var h=f.getData(i);if(h!==null){switch(typeof g){case"string":j=h;break;case"boolean":j=true;break;case"number":j=parseFloat(h);break;default:throw new Error('Invalid config type "'+i+'"')}}f[i]=j})}if(e.methods){Object.mixin(f,e.methods)}if(e.initialize){e.initialize.call(f)}f.widgetType=e.type}}};var d=/\bwidget-([a-z][a-z0-9-]*)\b/;b.parse=function(g,h){var e=document.$(g);if(!e.widgetType){var f=e.className.match(d);if(f){b.parseAs(e,f[1])}}if(h){e.findAll("[class*=widget-]").forEach(function(i){b.parse(i)})}};b.parseAs=function(f,g){var e=document.$(f);var h=a[g];if(h&&h.parse){if(e.nodeName===h.nodeName){h.parse(e)}else{console.warn('OurJS: Widget "'+g+'" can not be applied on '+e.nodeName+" elements.")}}else{console.warn('OurJS: Widget parser "'+g+'" is not found.')}};document.on("beforedomready",function(){b.parse(document.body,true)})})(window);
